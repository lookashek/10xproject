---
/**
 * Generations List Page
 * Displays user's generation history with statistics and pagination
 */

import Layout from '../layouts/Layout.astro';
import { GenerationsView } from '../components/generations';

// Parse and validate query params
const url = new URL(Astro.request.url);
const pageParam = url.searchParams.get('page');
let initialPage = 1;

if (pageParam) {
  const parsedPage = parseInt(pageParam, 10);
  if (!isNaN(parsedPage) && parsedPage >= 1) {
    initialPage = parsedPage;
  }
}
---

<Layout title="Historia generacji - 10x Cards">
  <GenerationsView
    client:load
    initialPage={initialPage}
  />
</Layout>

